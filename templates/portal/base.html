{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <!-- The above 6 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <meta name="author" content="" />
    <!-- Page Title -->
    <title>{{page_title}} | {{project_name}}</title>
    <!-- Datepicket CSS -->
    <link type="text/css" rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker.css' %}" />
    <!-- Main CSS -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}" />
    <!-- Favicon -->
    <link rel="icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <link href="{% static 'images/favicon.png' %}" rel="apple-touch-icon">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn"t work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <link rel="stylesheet" href="{% static 'select2/select2.min.css' %}">
    <link type="text/css" rel="stylesheet" href="{% static 'color-picker/bootstrap-colorpicker.css' %}" />
    <!-- Custom CSS -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/custom.css' %}" />
    <!-- jQuery -->
    <script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>

    {% block css %}
    {% endblock %}
</head>

<body>
    <!--================================-->
    <!-- Page Container Start -->
    <!--================================-->
    <div class="page-container">
        <!--================================-->
        <!-- Page Sidebar Start -->
        <!--================================-->
        {% include "portal/partials/_sidebar.html" %}
        <!--/ Page Sidebar End -->
        <!--================================-->
        <!-- Page Content Start -->
        <!--================================-->
        <div class="page-content">
            <!--================================-->
            <!-- Page Header Start -->
            <!--================================-->
            {% include "portal/partials/_header.html" %}
            <!--/ Page Header End -->
            <!--================================-->
            <!-- Page Inner Start -->
            <!--================================-->
            <div class="page-inner">
                {% block content %}
                {% endblock %}
            </div>
            <!--/ Page Inner End -->
            <!--================================-->
            <!-- Page Footer Start -->
            <!--================================-->
            {% include "portal/partials/_footer.html" %}
            <!--/ Page Footer End -->
        </div>
        <!--/ Page Content End -->
    </div>
    <!--/ Page Container End -->
    <!--================================-->
    <!-- Scroll To Top Start-->
    <!--================================-->
    <a href="" data-click="scroll-top" class="btn-scroll-top fade"><i class="fa fa-arrow-up"></i></a>
    <!--/ Scroll To Top End -->
    <!--================================-->
    <!-- Template Customizer Start-->
    <!--================================-->
    <!-- <div class="avesta-settings">
        <a id="avestaSettingsShow" href="" class="avesta-settings-link"><i data-feather="settings"
                class="wd-20"></i></a>
        <div class="avesta-settings-body">
            <div class="pd-y-20">
                <img src="assets/images/logo-dark.png" class="d-block" alt="">
                <span class="tx-10 tx-uppercase tx-spacing-1">Template Customizer</span>
            </div>
            <div class="pd-y-20 bd-t">
                <label class="tx-10 tx-uppercase tx-bold tx-spacing-1 mg-b-15">Skin Mode</label>
                <div class="row">
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name tx-spacing-1">Default Skin</span>
                        <a href="" class="avesta-mode avesta-mode-default active" data-title="default-skin"></a>
                    </div>
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name">Light Skin</span>
                        <a href="" class="avesta-mode avesta-mode-light" data-title="light-skin">
                            <span class="demo-color-palet-1"></span>
                            <span class="demo-color-palet-2"></span>
                        </a>
                    </div>
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name tx-spacing-1">Cool Skin</span>
                        <a href="" class="avesta-mode avesta-mode-cool" data-title="cool-skin">
                            <span class="bg-primary"></span>
                            <span class="bg-primary"></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="pd-y-20 bd-t">
                <label class="tx-10 tx-uppercase tx-bold tx-spacing-1 mg-b-15">Navigation Skin</label>
                <div class="row">
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name">Default</span>
                        <a href="" class="avesta-demo-customizer avesta-demo-customizer-default active"
                            data-title="default">
                            <span></span>
                            <span></span>
                        </a>
                    </div>
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name">Light</span>
                        <a href="" class="avesta-demo-customizer avesta-demo-customizer-light" data-title="light">
                            <span></span>
                            <span></span>
                        </a>
                    </div>
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name">Blue Purple</span>
                        <a href="" class="avesta-demo-customizer avesta-demo-customizer-bluepurple"
                            data-title="bluepurple">
                            <span></span>
                            <span></span>
                        </a>
                    </div>
                    <div class="col-12 d-flex justify-content-between">
                        <span class="avesta-demo-customizer-name">Gradient</span>
                        <a href="" class="avesta-demo-customizer avesta-demo-customizer-gradient" data-title="gradient">
                            <span></span>
                            <span></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="pd-y-20 bd-t">
                <label class="tx-10 tx-uppercase tx-bold tx-spacing-1 mg-b-15">Font Family Mode</label>
                <div class="row font-customize">
                    <div class="col-12">
                        <a href="" id="setFontBase" class="active-font">IBM Plex Sans</a>
                    </div>
                    <div class="col-12">
                        <a href="" id="setFontRoboto">Roboto</a>
                    </div>
                    <div class="col-12">
                        <a href="" id="setFontPoppins">Poppins</a>
                    </div>
                    <div class="col-12">
                        <a href="" id="setFontOpenSans">Open Sans</a>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!--/ Template Customizer End -->
    <!--================================-->
    <!-- Footer Script -->
    <!--================================-->
    <script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'plugins/jquery-ui/jquery-ui.js' %}"></script>
    <script src="{% static 'plugins/moment/moment.min.js' %}"></script>
    <script src="{% static 'plugins/popper/popper.js' %}"></script>
    <script src="{% static 'plugins/feather/feather.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'plugins/typeahead/typeahead.js' %}"></script>
    <script src="{% static 'plugins/typeahead/typeahead-active.js' %}"></script>
    <script src="{% static 'plugins/pace/pace.min.js' %}"></script>
    <script src="{% static 'plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>
    <script src="{% static 'plugins/highlight/highlight.min.js' %}"></script>
    <!-- Dashboard Script -->
    <script src="{% static 'plugins/daterangepicker/daterangepicker.js' %}"></script>
    <script src="{% static 'plugins/flot/jquery.flot.js' %}"></script>
    <script src="{% static 'plugins/flot/jquery.flot.pie.js' %}"></script>
    <script src="{% static 'plugins/flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'plugins/flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'plugins/flot/sampledata.js' %}"></script>
    <script src="{% static 'js/dashboard/helpdesk-dashboard-init.js' %}"></script>
    <!-- Required Script -->
    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/avesta.js' %}"></script>
    <script src="{% static 'js/avesta-customizer.js' %}"></script>
    <!-- Javascript -->
    <script src="{% static 'select2/select2.min.js' %}"></script>
    <script src="{% static 'color-picker/bootstrap-colorpicker.js' %}"></script>

    <!-- Custom JS -->
    <script src="{% static 'js/custom.js' %}"></script>


    <script>
        $(document).ready(function () {
            accessToken = sessionStorage.getItem("accessToken");
            if (accessToken == undefined || accessToken == null) {
                locationAfterMessageStore("", "", "{% url 'signin' %}")
            }
        });

        $(document).on('click', '.signout', function () {
            $.ajax({
                type: "POST",
                url: "{% url 'api:logout_user' %}",
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': sessionStorage.getItem("accessToken"),
                },
                success: function (response) {
                    if (response.status == 200) {
                        sessionStorage.removeItem("accessToken");
                        locationAfterMessageStore(response.message, 'success', "{% url 'signin' %}");
                    } else {
                        alert(response.message);
                    }
                },
                error: function (error) {
                    $('.success-msg-txt').text("");
                    $('.error-msg-txt').removeClass('text-secondary').removeClass('text-info').removeClass('text-success').removeClass('text-warning').removeClass('text-danger');
                    $('.error-msg-txt').addClass('text-danger');
                    $('.error-msg-txt').text(error.responseJSON.detail);
                }
            });
        });
    </script>

    {% block js %}
    {% endblock %}
</body>

</html>